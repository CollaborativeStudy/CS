<template name="User_Profile_Page">
  {{#if Template.subscriptionsReady}}
    <div id="newUser" class="ui modal">
      {{> Create_New_User_Modal}}
    </div>

    <div class="ui raised segment container">
      <h2>{{ getUser.name }}</h2>
      {{#if userExists}}
      {{else}}
        <script>
          $('#newUser').modal({ blurring: true, closable: false }).modal('show');
        </script>
        <!--{{createNewUser}}-->
      {{/if}}
    </div>

    <div class="ui three column grid container">
      <div class="row">
        <div class="ui four wide column">
          <div class="ui raised card profile">
            <img class="ui medium fluid image" src="{{ getUser.profilePicture }}">
            <p>Interests: {{ getUser.interests }}</p>
            <div class="extra">Rate:
              <div class="ui centered huge star rating" data-rating={{getAverageRate}} data-max-rating="5"></div>
            </div>
            <a href="reviews">
              <div class="ui bottom attached button" href="reviews">
                Reviews
              </div>
            </a>
          </div>
        </div>

        <div class="ui twelve wide column">
          <div class="ui raised segment">
            <a class="ui huge teal ribbon label">Pros</a>
            <div align="right">
              <button class="ui button edit-pro"> edit</button>
            </div>
            <!--Show after edit-->
            <form class="ui form add-pro">
              <div class="two fields">
                <div class="field">
                  <label>Course</label>
                  <select class="ui fluid search dropdown" name="course" id="course">
                    <option value="">Select a Course</option>
                    <option value="ICS 111">ICS 111 - Introduction to Computer Science I</option>
                    <option value="ICS 141">ICS 141 - Discrete Mathematics for Computer Science I</option>
                    <option value="ICS 211">ICS 211 - Introduction to Computer Science II</option>
                    <option value="ICS 241">ICS 241 - Discrete Mathematics for Computer Science II</option>
                    <option value="ICS 314">ICS 314 - Software Engineering I</option>
                    <option value="MATH 241">MATH 241 - Calculus I</option>
                    <option value="MATH 242">MATH 242 - Calculus II</option>
                    <option value="MATH 371">MATH 371 - Elementary Probability Theory</option>
                  </select>
                </div>
                <div class="field">
                  <label>Proficiency Level</label>
                  <div id="level" class="inline fields">
                    <div class="field">
                      <div class="ui radio checkbox">
                        <input type="radio" name="profLevel" value="low" tabindex="0" class="hidden">
                        <label>Low</label>
                      </div>
                    </div>
                    <div class="field">
                      <div class="ui radio checkbox">
                        <input type="radio" name="profLevel" value="medium" tabindex="0" class="hidden">
                        <label>Medium</label>
                      </div>
                    </div>
                    <div class="field">
                      <div class="ui radio checkbox">
                        <input type="radio" name="profLevel" value="high" tabindex="0" class="hidden">
                        <label>High</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <button class="ui teal button" type="submit">Add</button>
            </form>

            <div class="ui divided selection list">
              <a class="item">
                <div class="ui large green horizontal label">ICS 141</div>
                Discrete Mathematics for Computer Science I
              </a>

              <a class="item">
                <div class="ui large green horizontal label">ICS 241</div>
                Discrete Mathematics for Computer Science II
              </a>

              <a class="item">
                <div class="ui large green horizontal label">MATH 241</div>
                Calculus I
              </a>

              <a class="item">
                <div class="ui large yellow horizontal label">MATH 242</div>
                Calculus II
              </a>

              <a class="item">
                <div class="ui large yellow horizontal label">MATH 371</div>
                Elementary Probability Theory
              </a>
            </div>
          </div>

          <div class="ui raised segment">
            <a class="ui huge green ribbon label">Studs</a>
            <div align="right">
              <button class="ui button edit-stud"> edit</button>
            </div>
            <div class="ui divided selection list">
              <a class="item">
                <div class="ui large red horizontal label">ICS 311</div>
                Algorithms
              </a>

            </div>
          </div>
        </div>
      </div>


    </div>

    <script>
      $('.ui.rating').rating('disable');
      $('.ui.radio.checkbox').checkbox();
    </script>

  {{else}}
    {{>Loading}}
  {{/if}}
</template>