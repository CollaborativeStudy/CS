<template name="Messages_Page">

  <div class="ui container">
    <div class="ui grid">
      <div class="ui four wide column">
        <div class="ui vertical fluid pointing menu">
          <!--Repeat for each group-->
          <a class="item" data-tab="Group1"><p>Group 1</p></a>
        </div>
      </div>

      <div class="ui twelve wide column">

        <div class="ui tab segment" data-tab="Group1">
          <div class="ui grid container" id="message-container" style="overflow-y:auto; overflow-x:hidden; height:400px; margin: 0px;">
            {{#if Template.subscriptionsReady}}
            {{#each message in messagesList}}
            {{updateScroll}}
            {{#if ifUser message.user}}
            <div class="two column row">
              <div class="right floated column">
                <div class="ui right aligned blue segment">
                  <p><strong>{{message.user}}:</strong> {{message.message}}</p>
                </div>
              </div>
            </div>
            {{else}}
            <div class="two column row">
              <div class="left floated column">
                <div class="ui red segment">
                  <p><strong>{{message.user}}:</strong> {{message.message}}</p>
                </div>
              </div>
            </div>
            {{/if}}
            {{updateScroll}}
            {{clearThis}}
            {{/each}}
            {{else}}
            {{> Loading}}
            {{/if}}
          </div>

          <form class="new-message">
            <div class="ui large fluid action icon input" style="margin: 15px;">
              <input type="text" placeholder="Message" id="message" name="message">
              <i class="send icon"></i>
            </div>
          </form>
        </div>

      </div>


    </div>

  </div>

  <script>
    $('.menu .vertical .item').tab();
  </script>

</template>