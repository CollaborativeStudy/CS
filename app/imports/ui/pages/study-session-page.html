<template name="Study_Session_Page">
  {{#if hasTutorial}}
    <div class="ui yellow message transition container">
      <p style="font-size: 14px;">Want to turn off tutorials? Change the tutorial settings in the Profile dropdown.</p>
      <i class="close icon"></i>
      <div class="header">
        <h1>Tutorial</h1>
      </div>
      <p>Here's a listing of all the upcoming study sessions. Click on "More Info" to see a more detailed description of
        the session and join it.</p>
      <p>* NOTE: the search bar is capitalization sensitive</p>
    </div>
  {{/if}}

  <div class="ui raised segment container">
    <form id="search">
      <div class="ui category search">
        <div class="ui icon input">
          <input class="prompt" type="text" id="searchValue" placeholder="Search By Course...">
          <i class="search icon"></i>
        </div>
        <button type="submit" class="ui teal search button">Search</button>
        <button class="ui red button reset">Reset Search</button>
        <div class="results"></div>
      </div>
    </form>
    {{#if Template.subscriptionsReady}}
      <table class="ui celled table">
        <thead>
        <tr>
          <th>Start Time</th>
          <th>End Time</th>
          <th>Created By</th>
          <th>Course</th>
          <th>More Info</th>
        </tr>
        </thead>
        <tbody>
        {{#each sessions in search}}
          <tr>
            <td>{{sessions.startString}}</td>
            <td>{{sessions.endString}}</td>
            <td>{{sessions.name}}</td>
            <td>{{sessions.course}}</td>
            <td><a href="study-session/{{sessions._id}}"><label class="ui label">More Info</label></a></td>
          </tr>
        {{/each}}
        </tbody>
      </table>
    {{else}}
      {{> Loading}}
    {{/if}}
  </div>

  <script>
    $('.message .close')
        .on('click', function () {
          $(this)
              .closest('.message')
              .transition('fade')
          ;
        })
    ;
  </script>

</template>